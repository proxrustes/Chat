@{
    ViewData["Title"] = "Home Page";
}
@using Chat_FrontEnd.ObjectModel
@model UserModel[]
<style>

.dropdown {
  margin: auto;
  width: 50%;
  text-align:center;
  padding: 10px;
}

.dropdown-content {
  display: none;
  position: absolute;
  width: 100%;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
  padding: 12px 16px;
  z-index: 1;
}

.dropdown:hover .dropdown-content {
  display: block;
}
</style>



<body>


    <div class="dropdown" >
  <span>Choose your fighter</span>
  <div class="dropdown-content" id="all_users">
  </div>
</div>
    <script type="text/javascript">


fetch('https://localhost:7069/api/users')
.then(response => 
{
    return response.json();
}
)

    .then(data => 
    {
        const users = data;
        console.log(users);
        
       ul =  document.getElementById('all_users');

    users.forEach(item => 
        {
        let li = document.createElement('p');
        ul.appendChild(li);
           
        li.innerHTML += item.userName;
        li.addEventListener('click', function handleClick(event) 
        {
          window.location.href = 'https://localhost:7095/'+li.innerText;
          console.log('element clicked 🎉🎉🎉', li.innerText);
        });
                }
            );
        });


</script>
</body>
